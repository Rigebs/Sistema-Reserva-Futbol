<div class="container">
  <div class="container-top">
    <div
      class="card"
      (click)="onListarCompanias()"
      [class.selected]="selectedCard === 'companias'"
      (click)="selectCard('companias')"
    >
      <div class="card-body text-center">
        <h5 class="card-title">Listar Compañías</h5>
      </div>
    </div>

    <div
      class="card"
      (click)="onGestionarPeticiones()"
      [class.selected]="selectedCard === 'peticiones'"
      (click)="selectCard('peticiones')"
    >
      <div class="card-body text-center">
        <h5 class="card-title">Gestionar Peticiones</h5>
      </div>
    </div>
  </div>

  <!-- Tabla de compañías -->
  <div *ngIf="mostrarTabla" class="seccion-compania">
    <!-- Contenedor de la tabla con scroll horizontal -->
    <div class="table-container">
      <table
        mat-table
        [dataSource]="companias"
        matSort
        class="mat-elevation-z8"
      >
        <!-- Columnas de la tabla -->
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
          <td mat-cell *matCellDef="let compania">{{ compania.id }}</td>
        </ng-container>

        <ng-container matColumnDef="nombre">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre</th>
          <td mat-cell *matCellDef="let compania">{{ compania.nombre }}</td>
        </ng-container>

        <ng-container matColumnDef="correo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Correo</th>
          <td mat-cell *matCellDef="let compania">{{ compania.correo }}</td>
        </ng-container>

        <ng-container matColumnDef="celular">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Celular</th>
          <td mat-cell *matCellDef="let compania">{{ compania.celular }}</td>
        </ng-container>

        <!-- Fila de la tabla -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
  </div>

  <!-- Cards de compañías -->
  <div *ngIf="mostrarCards" class="cards-container">
    <div *ngFor="let compania of empresasCompanias" class="card-wrapper">
      <app-compania-card
        [compania]="compania"
        (companiaEliminada)="eliminarCompania($event)"
      ></app-compania-card>
    </div>
  </div>
</div>
